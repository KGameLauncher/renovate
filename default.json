{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended"
  ],
  "automergeType": "branch",
  "ignoreDeps": [
    "net.minestom:minestom-snapshots"
  ],
  "packageRules": [
    {
      "description": "Enable automerge for minor and patch releases",
      "matchUpdateTypes": [
        "minor",
        "patch"
      ],
      "matchCurrentVersion": "!/^0/",
      "automerge": true
    },
    {
      "description": "Prevent upgrading from stable to SNAPSHOT/pre-release versions",
      "matchCurrentVersion": "/^[0-9]+\\.[0-9]+\\.[0-9]+$/",
      "allowedVersions": "/^[0-9]+\\.[0-9]+\\.[0-9]+$/"
    },
    {
      "description": "Prevent upgrading from timestamped SNAPSHOT like 2.0.0-20250520.005113-167",
      "matchCurrentVersion": "/-\\d{8}\\.\\d{6}\\.\\d+$/",
      "enabled": false
    }
  ]
}